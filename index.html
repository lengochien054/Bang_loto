<script>
const boards = {};

function getNumberByColumn(col) {
  let min = col * 10 + 1;
  let max = (col === 8) ? 90 : col * 10 + 9;
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function generateBoard() {
  let board = [];
  let usedNumbers = new Set(); // CHỐNG TRÙNG TOÀN BẢNG

  for(let i = 0; i < 9; i++){
    let row = Array(9).fill("");

    // Chọn 5 cột
    let cols = [];
    while(cols.length < 5){
      let c = Math.floor(Math.random() * 9);
      if(!cols.includes(c)) cols.push(c);
    }

    // Gán số đúng cột + không trùng toàn bảng
    cols.forEach(c => {
      let num;
      do {
        num = getNumberByColumn(c);
      } while(usedNumbers.has(num));

      usedNumbers.add(num);
      row[c] = num;
    });

    board.push(row);
  }

  return board;
}

// Tạo 20 bảng
for(let i=1;i<=20;i++){
  boards[i] = generateBoard();
}
</script>
